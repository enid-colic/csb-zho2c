(this["webpackJsonplumina-gardening-project-concept-1"]=this["webpackJsonplumina-gardening-project-concept-1"]||[]).push([[0],{30:function(e,t,n){e.exports=n(31)},31:function(e,t,n){"use strict";n.r(t);for(var a=n(8),r=n(11),o=n(4),c=n.n(o),i=n(28),g=n(7),u=n(29),h=n.n(u),s=[],l=[],d=0;d<39.7;d++)s.push(c.a.createElement(g.Line,{strokeWidth:1,stroke:"black",opacity:"0.2",points:[Math.round(30*d)+.5,0,Math.round(30*d)+.5,1191]})),l.push(c.a.createElement(g.Line,{strokeWidth:.5,stroke:"black",opacity:"0.2",points:[0,Math.round(30*d),1191,Math.round(30*d)]}));var m=function(e){var t=h()(e);return Object(r.a)(t,1)[0]},p=function(e){var t=e.shapeProps,n=e.imageBg,r=e.isSelected,o=e.onSelect,i=e.onChange,u=c.a.useRef(),h=c.a.useRef();return c.a.useEffect((function(){r&&(h.current.nodes([u.current]),h.current.getLayer().batchDraw())}),[r]),c.a.createElement(c.a.Fragment,null,c.a.createElement(g.Rect,Object.assign({onClick:o,onTap:o,ref:u},t,{draggable:!0,fillPatternImage:m(n),onDragEnd:function(e){i(Object(a.a)(Object(a.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onDragMove:function(e){e.target.setPosition({x:30*Math.round(e.target.x()/30),y:30*Math.round(e.target.y()/30)})},onTransformEnd:function(e){var n=u.current,r=n.scaleX(),o=n.scaleY();n.scaleX(1),n.scaleY(1),i(Object(a.a)(Object(a.a)({},t),{},{x:n.x(),y:n.y(),width:Math.max(5,n.width()*r),height:Math.max(n.height()*o)}))}})),r&&c.a.createElement(g.Transformer,{ref:h,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}}))},f=function(e){var t=e.shapeProps,n=c.a.useRef();return console.log(t),console.log("imageBg"),c.a.createElement(c.a.Fragment,null,c.a.createElement(g.Rect,Object.assign({ref:n},t,{draggable:!0,fillPatternImage:m(t.imageBg),onDragMove:function(e){e.target.setPosition({x:30*Math.round(e.target.x()/30),y:30*Math.round(e.target.y()/30)})}})))},b=[{x:60,y:60,width:240,height:180,id:"rect1",imageBg:"groundbg.png"},{x:420,y:60,width:180,height:180,id:"rect2",imageBg:"groundbg.png"}],y=[{x:60,y:260,width:60,height:60,id:"rectarxt1",imageBg:"artichoke.png"},{x:120,y:260,width:30,height:60,id:"rectarxt1",imageBg:"beet.png"}],x=function(){var e=c.a.useState(b),t=Object(r.a)(e,2),n=t[0],a=t[1],o=c.a.useState(null),i=Object(r.a)(o,2),u=i[0],h=i[1],d=function(e){e.target===e.target.getStage()&&h(null)},m=[],x=0;for(x=0;x<20;x++)m.push(c.a.createElement(f,{key:x,shapeProps:y[0]})),m.push(c.a.createElement(f,{key:x,shapeProps:y[1]}));return c.a.createElement(g.Stage,{width:window.innerWidth,height:window.innerHeight,onMouseDown:d,onTouchStart:d},c.a.createElement(g.Layer,null,s,l),c.a.createElement(g.Layer,null,n.map((function(e,t){return c.a.createElement(p,{key:t,shapeProps:e,imageBg:e.imageBg,isSelected:e.id===u,onSelect:function(){h(e.id)},onChange:function(e){var r=n.slice();r[t]=e,a(r)}})})),m.map((function(e){return e}))))};Object(i.render)(c.a.createElement(x,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.6d7b6d22.chunk.js.map